<!DOCTYPE html>

<html lang="zh-tw">
<head>
    <meta charset="utf-8" />
    <title>AeroPic</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">

    <script src="js/angular.min.js"></script>
    <script src="js/angular-route.js"></script>


    <style>
        html, body {
            margin: 0px;
            padding: 0px;
            font-family: "微軟正黑體";
            font-size: 18px;
            background-color: rgb(234, 234, 234);
        }

        body {
        }

        .top {
            box-shadow: 0px 0px 8px rgba(0,0,0,0.8);
            background-color: rgba(0, 64, 26, 0.85);
            /*height: 50px;*/
            position: fixed;
            top: 0px;
            left: 0px;
            right: 0px;
            /*min-width: 800px;*/
            overflow-y: auto;
            overflow-y: hidden;
        }

            .top a {
                font-size: 26px;
                color: #FFF;
                line-height: 50px;
                margin-right: 30px;
                height: 50px;
                display: block;
                float: left;
                padding: 0px 20px;
                text-decoration: none;
            }

            .top table, .top tr, .top td {
                border: none;
                margin: 0px;
                padding: 0px;
                border-collapse: collapse;
            }

            .top table {
                width: 800px;
            }

            .top a:hover {
                /*background-color:rgb(0, 105, 116);*/
                transform: scale(1.1);
            }

            .top a:active {
                transform: scale(1.1) translateY(3px);
            }

            .top .logo {
            }

                .top .logo img {
                    width: 44px;
                    height: 44px;
                    margin: 3px;
                    float: left;
                }

                .top .logo t {
                    font-size: 30px;
                    color: #FFF;
                    line-height: 50px;
                }

        #center {
        }

            #center img {
                max-width: 100%;
            }

            #center table {
                border-collapse: collapse;
            }

        .ddd {
            max-width: 960px;
            margin: auto;
        }
    </style>


    <style>
        .box {
            background-color: #FFF;
            box-shadow: 0px 0px 8px rgba(0,0,0,0.3);
            margin: 10px;
            padding: 10px;
            word-break: break-all;
        }

        .tit {
            font-size: 28px;
            font-weight: 900;
            margin-top: 20px;
            margin-left: 10px;
            margin-bottom: -10px;
        }
    </style>

</head>
<body>



    <div ng-app="routingDemoApp">


        <div class="top">
            <div class="ddd">



                <style>
                    @media screen and (max-width: 800px) {
                        #td_logo {
                            display: none;
                        }

                        .top a {
                            margin-right: 10px !important;
                            padding: 0px 5px;
                        }

                        .top table {
                            width: 350px;
                        }
                    }
                </style>

                <table>
                    <tr>
                        <td id="td_logo">
                            <a href="#/" class="logo">
                                <img src="imgs/logo.png" />
                                AeroPic
                            </a>
                        </td>
                        <td> <a id="top_1" href="#/">首頁</a></td>
                        <td> <a id="top_download" href="#/download">下載</a></td>
                        <td> <a id="top_explain" href="#/explain_soft">使用說明</a></td>
                        <td> <a id="top_author" href="#/author">作者</a></td>
                    </tr>
                </table>




            </div>

        </div>

        <div style="height:50px;"></div>


        <!--顯示用的區域-->
        <div id="center" ng-view></div>


        <script>
            var app = angular.module('routingDemoApp', ['ngRoute'])
                   .config(['$routeProvider', function ($routeProvider) {
                       $routeProvider
                       .when('/', { templateUrl: 'page/p1.html', controller: 'LoadedCtrl' })//載入網址
                       .when('/download', { templateUrl: 'page/download.html', controller: 'LoadedCtrl' })
                       .when('/explain_soft', { templateUrl: 'page/explain_soft.html', controller: 'LoadedCtrl' })
                       .when('/explain_soft/:mes', { templateUrl: 'page/explain_soft.html', controller: 'VersionCtrl' })
                       .when('/explain_pixiv', { templateUrl: 'page/explain_pixiv.html', controller: 'LoadedCtrl' })
                       .when('/author', { templateUrl: 'page/author.html' })
                       //.when('/printers', { template: '這是打印機頁面' })//印出字串
                       .otherwise({ redirectTo: '/' });//其他
                   }]);

            //載入完成時
            app.controller('LoadedCtrl', function ($scope, $routeParams) {
             
                fun_圖片自動加超連結();

            });

            //載入完成時
            app.controller('VersionCtrl', function ($scope, $routeParams) {

                alert($routeParams.mes);//取得網址參數

                fun_圖片自動加超連結();
            });


            function fun_圖片自動加超連結() {
                var ar_img = document.getElementById("center").getElementsByTagName("img");
                for (var i = 0; i < ar_img.length; i++) {
                    ar_img[i].outerHTML = "<a target='_blank' href='" + ar_img[i].src + "'>" + ar_img[i].outerHTML + "<a/>";
                }
            }

        </script>

    </div>



    <script>

        setTimeout(function () {

            var ar_a = document.getElementsByTagName("a");
            for (var i = 0; i < ar_a.length; i++) {
                //ar_a[i].setAttribute("target", "_blank");
            }



        }, 500);


    </script>


</body>
</html>